Импорт больших баз MYSQL через BigDump

Часто возникает необходимость загрузки больших баз данных на сервер. Это могут быть как резервные копии, так и данные, перенесенные с другого хостинга, или еще какие-либо БД. 

Многие привыкли пользоваться де-факто стандартным интерфейсом администрирования СУБД – phpmyadmin. У него есть ряд преимуществ – бесплатный, с открытым кодом, удобный, легкий, простой… Но при попытке загрузить большую базу данных через «импорт из файла», он выдаст ошибку «превышение максимального размера файла». Дело в том, что по-умолчанию, максимальный размер загружаемого файла установлен в 2-100 МБ. Можно, конечно его увеличить, но все равно, для очень больших БД этот метод не является наилучшим.

Проще всего использовать для таких целей BigDump – бесплатный, с открытым кодом php-скрипт, написанный Алексеем Озеровым. Этот скрипт позволяет в считаные минуты настроить и загрузить вашу БД.

 
Краткая инструкция его использования - вариант 1:

1)      Скачать BigDump - тут http://www.ozerov.de/bigdump/

2)      Установить настройки БД, и прав доступа к ней - пишите настройки той базы данных в которую вы пытаетесь загрузить большую базу данных.

         Это можно сделать, указав в следующих полях соответствующие данные:

         $db_server   = 'localhost';    //сервер БД

         $db_name     = '';                // название БД

         $db_username = '';            // имя пользователя БД

         $db_password = '';             // пароль

3)      Скопировать файл SQL в ту же директорию, где и находится скрипт BigDump, и указать имя этого файла в переменной $filename.

4)      Указать максимальное количество строк в одном запросе в переменной $linespersession (по-умолчанию там установлено 300).

5)      Установить кодировку вашего SQL-файла в переменной $db_connection_charset (например: ‘utf8’, ‘latin1’, ‘cp1251’, ‘koi8r’,…)

6)      Запустить скрипт BigDump с сервера.

7)      В появившейся странице нажать кнопку Start.

8)      Подождать окончание загрузки на сервер.

9)      Готово!
Краткая инструкция его использования - вариант 2:

    Загружаем данный скрип на хостинг. Можно конечно загрузить в корень, но рекомендуется создать отдельную папку и загрузить туда этот скрипт.
    После загрузки необходимо отредактировать этот скрипт указав какую базу использовать (переменная $db_name), имя пользователя (переменная $db_username) и пароль (переменная $db_password).
    Запускам этот скрипт. Например: site35.ru/bigdump.php
    Выбираем файл дампа. Он может быть как текстовым файлом (sql/csv), так и архивом - gz.
    После этого напротив нужного архива нажимаем на ссылку "Start import".
    Синяя полоска внизу будет отображать ход выполнения импорта.

Основные моменты использования:

    Не забудьте правильно выставить кодировку для этого дампа в скрипте bigdump.php, за неё отвечает переменная $db_connection_charset. По умолчанию она пустая. Если у Вас база в кодировке UTF-8, то установите переменную $db_connection_charset = «utf8?;
    не забудьте проставить права на папку в которой лежит файл на chmod 777